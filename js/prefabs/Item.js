var RPG=RPG||{};RPG.Item=function(e,t,a,s){if(Phaser.Sprite.call(this,e.game,t,a,s),this.state=e,this.game=e.game,this.properties={},this.properties.type=s,this.frame=2,this.anchor.setTo(.5),this.scale.setTo(.6),RPG.GameState.droppedItems.add(this),this.game.physics.arcade.enable(this),"hearts"===this.properties.type)this.removeTimer=this.game.time.create(!1),this.removeTimer.start(),this.removeTimer.add(5*Phaser.Timer.SECOND,this.destroyItem,this);else if("golf_balls"===this.properties.type){this.scale.setTo(.3);var i=RPG.game.cache.getTilemapData(RPG.GameState.currentLevel).data.layers[2].objects;i.push(this)}var r=Rnd.bit(.5)?0:200,o=Rnd.bit(.5)?0:200;this.body.velocity.setTo(r,o);var h=this;setTimeout(function(){h.body.velocity.setTo(0),h.x=h.x,h.y=h.y},300)},RPG.Item.prototype=Object.create(Phaser.Sprite.prototype),RPG.Item.prototype.constructor=RPG.Item,RPG.Item.prototype.removeItem=function(){if("hearts"===this.properties.type)this.removeTimer.stop(),Player.data.health=Player.data.health+2,RPG.GameState.game.sound.play("heart"),RPG.GameState.showHealth(Player.data.health);else if("golf_balls"===this.properties.type){var e=RPG.game.cache.getTilemapData(RPG.GameState.currentLevel).data.layers[2].objects,t=e.indexOf(this);e.splice(t,1),RPG.GameState.acquire([["item","golf_balls"]])}this.kill()},RPG.Item.prototype.destroyItem=function(){this.removeTimer.stop(),this.kill()};